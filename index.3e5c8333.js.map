{"mappings":"woBAAA,IAAAA,EAAAC,EAAA,S,0BAIAC,EAAeC,WAAa,KACxB,MAAMC,EAAO,CACTC,aAAcC,SAASC,iBAAiB,yBACxCC,cAAeF,SAASC,iBAAiB,mBACzCE,SAAUH,SAASI,cAAc,oBACjCC,kBAAmBL,SAASI,cAAc,0BAE1CE,YAAaN,SAASC,iBAAiB,0BACvCM,cAAeP,SAASC,iBAAiB,8BAQ/C,SAASO,EAAUC,GACjBX,EAAKK,SAASO,UAAUC,OAAO,iBAE7B,IAAIC,EAAaH,EAAMI,cAAcC,QAAQC,IAC7C,EAAArB,EAAAsB,WAAUJ,GAAYK,MAAKC,IACzBpB,EAAKO,kBAAkBc,WAAY,EAAAC,EAAAC,SAAiBH,EAAKI,SACzD,EAAAC,EAAAF,UAAa,GAEnB,CAZAvB,EAAKC,aAAayB,SAAQC,IACxBA,EAAGC,iBAAiB,QAASlB,EAAA,IAa/BV,EAAKK,SAASuB,iBAAiB,SAE/B,SAAuBC,GAChBA,EAAEC,OAAOC,QAAQ,WACpB/B,EAAKK,SAASO,UAAUoB,IAAI,gBAEhC,IAEA,IAAIC,EAAuB,GACuB,OAA9CC,aAAaC,QAAQ,uBACvBF,EAAuBC,aAAaC,QAAQ,qBAAqBC,MAAM,KACvEpC,EAAKQ,YAAYkB,SAAQC,IACvB,MAAMb,EAAaa,EAAGX,QAAQC,GAC1BgB,EAAqBI,SAASvB,GAClCa,EAAGN,UAA0B,+bAM3BM,EAAGN,UAA0B,2wBAMpB,KAMf,IAAIiB,EAAyB,GACuB,OAAhDJ,aAAaC,QAAQ,yBACvBG,EAAyBJ,aAAaC,QAAQ,uBAAuBC,MAAM,KAC3EpC,EAAKS,cAAciB,SAAQC,IACzB,MAAMY,EAAgBZ,EAAGX,QAAQC,GAC7BqB,EAAuBD,SAASE,GACpCZ,EAAGN,UAA0B,+bAM3BM,EAAGN,UAA0B,2wBAMpB,KAMfrB,EAAKQ,YAAYkB,SAAQC,IACvBA,EAAGC,iBAAiB,SAAUjB,IAE5B,MAAMG,EAAaH,EAAMI,cAAcC,QAAQC,GAC1CgB,EAAqBI,SAASvB,IAIjCmB,EAAqBO,OAAOP,EAAqBQ,QAAQ3B,GAAa,GACtEoB,aAAaQ,QAAQ,oBAAqBT,KAJ1CA,EAAqBU,KAAK7B,GAC1BoB,aAAaQ,QAAQ,oBAAqBT,IAMzBC,aAAaC,QAAQ,qBACvBE,SAASvB,GACxBH,EAAMI,cAAcM,UAA0B,+cAM9CV,EAAMI,cAAcM,UAA0B,2xBAMnC,GAEf,IAGFrB,EAAKS,cAAciB,SAAQC,IACzBA,EAAGC,iBAAiB,SAAUjB,IAE5B,MAAM4B,EAAgB5B,EAAMI,cAAcC,QAAQC,GAC7CqB,EAAuBD,SAASE,IAInCD,EAAuBE,OAAOF,EAAuBG,QAAQF,GAAgB,GAC7EL,aAAaQ,QAAQ,sBAAuBJ,KAJ5CA,EAAuBK,KAAKJ,GAC5BL,aAAaQ,QAAQ,sBAAuBJ,IAM3BJ,aAAaC,QAAQ,uBACvBE,SAASE,GACxB5B,EAAMI,cAAcM,UAA0B,+cAM9CV,EAAMI,cAAcM,UAA0B,2xBAMnC,GAEf,GACF,C","sources":["src/js/modal-cards.js"],"sourcesContent":["import { fetchById } from './fetch-cocktails.js';\nimport templateFunction from '../templates/modal-cocktails.hbs';\nimport modalCocktails from './modal-cocktails.js';\n\nexport default modalCards = () => {\n    const refs = {\n        openModalBtn: document.querySelectorAll('[data-modal-win-open]'),\n        closeModalBtn: document.querySelectorAll('.js-modal-close'),\n        backdrop: document.querySelector('[data-modal-win]'),\n        backdropCocktails: document.querySelector('.js-backdrop-cocktails'),\n        // FAVORITES\n        addCocktail: document.querySelectorAll('[data-add-new-coctail]'),\n        addIngredient: document.querySelectorAll('[data-add-new-ingredient]'),\n        \n    };\n\n  refs.openModalBtn.forEach(el => {\n    el.addEventListener('click', openModal);\n  });\n\n  function openModal(event) {\n    refs.backdrop.classList.remove('is-win-hidden');\n\n      let idCocktail = event.currentTarget.dataset.id;\n      fetchById(idCocktail).then(data => {\n        refs.backdropCocktails.innerHTML = templateFunction(data.drinks);\n        modalCocktails();\n    });\n  }\n\n  refs.backdrop.addEventListener('click', closeBackdrop);\n  \n  function closeBackdrop(e) {\n    if (!e.target.closest('.modal')) {\n      refs.backdrop.classList.add('is-win-hidden');\n    }\n  }\n\n  let arrFavoriteCocktails = [];\n  if (localStorage.getItem(\"favoriteCocktails\") !== null) {\n    arrFavoriteCocktails = localStorage.getItem(\"favoriteCocktails\").split(\",\");\n    refs.addCocktail.forEach(el => {\n      const idCocktail = el.dataset.id;\n      if (arrFavoriteCocktails.includes(idCocktail)) {\n      el.innerHTML = (`beforeend`, `<span>Remove</span>\n        <svg class=\"icon icon-heart-stroked\" width=\"21\" height=\"19\" viewBox=\"0 0 35 32\">\n          <path style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\">\n          </path>\n        </svg>`);\n      } else {\n        el.innerHTML = (`beforeend`, `<span>Add to</span>\n          <svg class=\"icon icon-heart-stroked\" width=\"21\" height=\"19\" viewBox=\"0 0 35 32\">\n            <path style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\">\n            </path>\n            <path style=\"fill: var(--color2, #fcfcfc)\" d=\"M17.684 28.632l-2.076-1.817c-7.373-6.429-12.24-10.67-12.24-15.874 0-4.24 3.464-7.572 7.874-7.572 2.491 0 4.882 1.115 6.442 2.877 1.56-1.762 3.951-2.877 6.442-2.877 4.409 0 7.874 3.332 7.874 7.572 0 5.204-4.867 9.444-12.24 15.888l-2.076 1.803z\">\n            </path>\n          </svg>`);\n      }\n    })\n  }\n\n  // ======================\n  let arrFavoriteIngredients = [];\n  if (localStorage.getItem(\"favoriteIngredients\") !== null) {\n    arrFavoriteIngredients = localStorage.getItem(\"favoriteIngredients\").split(\",\");\n    refs.addIngredient.forEach(el => {\n      const idIngredients = el.dataset.id;\n      if (arrFavoriteIngredients.includes(idIngredients)) {\n      el.innerHTML = (`beforeend`, `<span>Remove</span>\n        <svg class=\"icon icon-heart-stroked\" width=\"21\" height=\"19\" viewBox=\"0 0 35 32\">\n          <path style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\">\n          </path>\n        </svg>`);\n      } else {\n        el.innerHTML = (`beforeend`, `<span>Add to</span>\n          <svg class=\"icon icon-heart-stroked\" width=\"21\" height=\"19\" viewBox=\"0 0 35 32\">\n            <path style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\">\n            </path>\n            <path style=\"fill: var(--color2, #fcfcfc)\" d=\"M17.684 28.632l-2.076-1.817c-7.373-6.429-12.24-10.67-12.24-15.874 0-4.24 3.464-7.572 7.874-7.572 2.491 0 4.882 1.115 6.442 2.877 1.56-1.762 3.951-2.877 6.442-2.877 4.409 0 7.874 3.332 7.874 7.572 0 5.204-4.867 9.444-12.24 15.888l-2.076 1.803z\">\n            </path>\n          </svg>`);\n      }\n    })\n  }\n  // ==========\n  \n  refs.addCocktail.forEach(el => {\n    el.addEventListener('click', (event) => {\n      // Add to lockal storage\n      const idCocktail = event.currentTarget.dataset.id;\n      if (!arrFavoriteCocktails.includes(idCocktail)) {\n        arrFavoriteCocktails.push(idCocktail);\n        localStorage.setItem(\"favoriteCocktails\", arrFavoriteCocktails);\n      } else {\n        arrFavoriteCocktails.splice(arrFavoriteCocktails.indexOf(idCocktail), 1);\n        localStorage.setItem(\"favoriteCocktails\", arrFavoriteCocktails);\n      }\n      // Check if it in there\n      let storFavorite = localStorage.getItem(\"favoriteCocktails\");\n      if (storFavorite.includes(idCocktail)) {\n        event.currentTarget.innerHTML = (`beforeend`, `<span>Remove</span>\n        <svg class=\"icon icon-heart-stroked\" width=\"21\" height=\"19\" viewBox=\"0 0 35 32\">\n                <path style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\">\n                </path>\n            </svg>`);\n      } else {\n        event.currentTarget.innerHTML = (`beforeend`, `<span>Add to</span>\n        <svg class=\"icon icon-heart-stroked\" width=\"21\" height=\"19\" viewBox=\"0 0 35 32\">\n                <path style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\">\n                </path>\n                <path style=\"fill: var(--color2, #fcfcfc)\" d=\"M17.684 28.632l-2.076-1.817c-7.373-6.429-12.24-10.67-12.24-15.874 0-4.24 3.464-7.572 7.874-7.572 2.491 0 4.882 1.115 6.442 2.877 1.56-1.762 3.951-2.877 6.442-2.877 4.409 0 7.874 3.332 7.874 7.572 0 5.204-4.867 9.444-12.24 15.888l-2.076 1.803z\">\n                </path>\n            </svg>`);\n      }\n    })\n  });\n  // =================\n  refs.addIngredient.forEach(el => {\n    el.addEventListener('click', (event) => {\n      // Add to lockal storage\n      const idIngredients = event.currentTarget.dataset.id;\n      if (!arrFavoriteIngredients.includes(idIngredients)) {\n        arrFavoriteIngredients.push(idIngredients);\n        localStorage.setItem(\"favoriteIngredients\", arrFavoriteIngredients);\n      } else {\n        arrFavoriteIngredients.splice(arrFavoriteIngredients.indexOf(idIngredients), 1);\n        localStorage.setItem(\"favoriteIngredients\", arrFavoriteIngredients);\n      }\n      // Check if it in there\n      let storFavorite = localStorage.getItem(\"favoriteIngredients\");\n      if (storFavorite.includes(idIngredients)) {\n        event.currentTarget.innerHTML = (`beforeend`, `<span>Remove</span>\n        <svg class=\"icon icon-heart-stroked\" width=\"21\" height=\"19\" viewBox=\"0 0 35 32\">\n                <path style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\">\n                </path>\n            </svg>`);\n      } else {\n        event.currentTarget.innerHTML = (`beforeend`, `<span>Add to</span>\n        <svg class=\"icon icon-heart-stroked\" width=\"21\" height=\"19\" viewBox=\"0 0 35 32\">\n                <path style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\">\n                </path>\n                <path style=\"fill: var(--color2, #fcfcfc)\" d=\"M17.684 28.632l-2.076-1.817c-7.373-6.429-12.24-10.67-12.24-15.874 0-4.24 3.464-7.572 7.874-7.572 2.491 0 4.882 1.115 6.442 2.877 1.56-1.762 3.951-2.877 6.442-2.877 4.409 0 7.874 3.332 7.874 7.572 0 5.204-4.867 9.444-12.24 15.888l-2.076 1.803z\">\n                </path>\n            </svg>`);\n      }\n    })\n  });\n};\n"],"names":["$cDqy2","parcelRequire","$b018f45be62895a4$export$2e2bcd8739ae039","modalCards","refs","openModalBtn","document","querySelectorAll","closeModalBtn","backdrop","querySelector","backdropCocktails","addCocktail","addIngredient","openModal","event","classList","remove","idCocktail","currentTarget","dataset","id","fetchById","then","data","innerHTML","$eTmGX","default","drinks","$lJXXB","forEach","el","addEventListener","e","target","closest","add","arrFavoriteCocktails","localStorage","getItem","split","includes","arrFavoriteIngredients","idIngredients","splice","indexOf","setItem","push"],"version":3,"file":"index.3e5c8333.js.map"}