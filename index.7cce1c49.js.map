{"mappings":"woBAAA,IAAAA,EAAAC,EAAA,S,0BAIAC,EAAeC,eAAiB,KAC9B,MAAMC,EAAO,CACXC,cAAeC,SAASC,iBAAiB,0BACzCC,SAAUF,SAASG,cAAc,oBACjCC,mBAAoBJ,SAASC,iBAAiB,gCAC9CI,iBAAkBL,SAASC,iBAAiB,iCAC5CK,aAAcN,SAASG,cAAc,4BACrCI,oBAAqBP,SAASG,cAAc,6BAS9C,SAASK,IACPV,EAAKI,SAASO,UAAUC,IAAI,gBAC9B,CAQA,SAASC,IACPb,EAAKM,mBAAmBQ,SAAQC,IACP,oBAAnBA,EAAGC,YACLD,EAAGC,YAAc,uBAEjBD,EAAGC,YAAc,oBAGvB,CAYA,SAASC,EAAcC,GACrBA,EAAMC,iBACNT,IACAV,EAAKQ,aAAaG,UAAUS,OAAO,iBACnC,IAAIC,EAAOH,EAAMI,cAAcC,QAAQC,IAEvC,EAAA5B,EAAA6B,kBAAiBJ,GAAMK,MAAKC,IAC1B3B,EAAKS,oBAAoBmB,WAAY,EAAAC,EAAAC,SACnCH,EAAKI,cAEP,EAAAC,EAAAF,UAAe,GAEnB,CA9CA9B,EAAKC,cAAca,SAAQC,IACzBA,EAAGkB,iBAAiB,QAASvB,EAAA,IAS/BV,EAAKM,mBAAmBQ,SAAQC,IAC9BA,EAAGkB,iBAAiB,QAASpB,EAAA,IAe/Bb,EAAKO,iBAAiBO,SAAQC,IACL,KAAnBA,EAAGC,YACLD,EAAGmB,QAAQ,MAAMd,SAEjBL,EAAGkB,iBAAiB,QAAShB,EAAA,IAkBjCjB,EAAKQ,aAAayB,iBAAiB,SAEnC,SAA2BE,GACpBA,EAAEC,OAAOF,QAAQ,WACpBlC,EAAKQ,aAAaG,UAAUC,IAAI,gBAEpC,I","sources":["src/js/modal-cocktails.js"],"sourcesContent":["import { fetchIngredients } from './fetch-cocktails.js';\nimport templateFunction from '../templates/modal-ingredients.hbs';\nimport modalIngredients from './modal-ingredients.js';\n\nexport default modalCocktails = () => {\n  const refs = {\n    closeModalBtn: document.querySelectorAll('[data-modal-win-close]'),\n    backdrop: document.querySelector('[data-modal-win]'),\n    bottomCocktailsBtn: document.querySelectorAll('.modal-cocktails__bottom-btn'),\n    openModalIngrBtn: document.querySelectorAll('[data-modal-ingredients-open]'),\n    backdropIngr: document.querySelector('[data-modal-ingredients]'),\n    backdropIngredients: document.querySelector('.js-backdrop-ingredients'),\n  };\n\n  // Close modal Cocktails btn\n\n  refs.closeModalBtn.forEach(el => {\n    el.addEventListener('click', closeModal);\n  });\n\n  function closeModal() {\n    refs.backdrop.classList.add('is-win-hidden');\n  }\n\n  // Modal Cocktails Bottom Btn\n\n  refs.bottomCocktailsBtn.forEach(el => {\n    el.addEventListener('click', toggleBottomCocktailsBtn);\n  });\n\n  function toggleBottomCocktailsBtn() {\n    refs.bottomCocktailsBtn.forEach(el => {\n      if (el.textContent === 'Add to favorite') {\n        el.textContent = 'Remove from favorite';\n      } else {\n        el.textContent = 'Add to favorite';\n      }\n    });\n  }\n\n  // Modal Ingridients\n\n  refs.openModalIngrBtn.forEach(el => {\n    if (el.textContent === '') {\n      el.closest('li').remove();\n    } else {\n      el.addEventListener('click', openModalIngr);\n    }\n  });\n  \n  function openModalIngr(event) {\n    event.preventDefault();\n    closeModal();\n    refs.backdropIngr.classList.remove('is-win-hidden');\n    let ingr = event.currentTarget.dataset.id;\n\n    fetchIngredients(ingr).then(data => {\n      refs.backdropIngredients.innerHTML = templateFunction(\n        data.ingredients\n      );\n      modalIngredients();\n    });\n  }\n\n  refs.backdropIngr.addEventListener('click', closeBackdropIngr);\n\n  function closeBackdropIngr(e) {\n    if (!e.target.closest('.modal')) {\n      refs.backdropIngr.classList.add('is-win-hidden');\n    }\n  }\n};\n"],"names":["$cDqy2","parcelRequire","$fd3c4fcecdc63329$export$2e2bcd8739ae039","modalCocktails","refs","closeModalBtn","document","querySelectorAll","backdrop","querySelector","bottomCocktailsBtn","openModalIngrBtn","backdropIngr","backdropIngredients","closeModal","classList","add","toggleBottomCocktailsBtn","forEach","el","textContent","openModalIngr","event","preventDefault","remove","ingr","currentTarget","dataset","id","fetchIngredients","then","data","innerHTML","$2xGP5","default","ingredients","$aJrzc","addEventListener","closest","e","target"],"version":3,"file":"index.7cce1c49.js.map"}